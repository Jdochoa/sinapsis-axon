CREATE TABLE TRN_TRN0_TRANSACCION
(
  ID AXN_IDENTIFICADOR NOT NULL,
  CREATEDBY AXN_USUARIO DEFAULT current_user,
  CREATEDAT AXN_FECHAHORA DEFAULT 'now',
  MODIFIEDBY AXN_USUARIO DEFAULT current_user,
  MODIFIEDAT AXN_FECHAHORA DEFAULT 'now',
  CODIGO AXN_CODIGO DEFAULT '' NOT NULL,
  DESCRIPCION AXN_DESCRIPCION DEFAULT '' NOT NULL,
  FAFECTA TRN_FORMAAFECTA DEFAULT '' NOT NULL,
  CONSTRAINT PK_TRN_TRN0_TRANSACCION PRIMARY KEY (ID)
);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON TRN_TRN0_TRANSACCION TO  SYSDBA WITH GRANT OPTION;


CREATE TABLE TRN_TRN1_TRNEMP
(
  ID AXN_IDENTIFICADOR NOT NULL,
  TRN0_ID AXN_IDENTIFICADOR NOT NULL,
  EMP0_ID AXN_IDENTIFICADOR NOT NULL,
  CREATEDBY AXN_USUARIO DEFAULT current_user,
  CREATEDAT AXN_FECHAHORA DEFAULT 'now',
  MODIFIEDBY AXN_USUARIO DEFAULT current_user,
  MODIFIEDAT AXN_FECHAHORA DEFAULT 'now',
  CONSTRAINT PK_TRN_TRN1_TRNEMP PRIMARY KEY (ID),
  CONSTRAINT FK_TRN_TRN1_TRNEMP_TRN0 FOREIGN KEY (TRN0_ID) REFERENCES TRN_TRN0_TRANSACCION(ID)ON UPDATE CASCADE ON DELETE NO ACTION,
  CONSTRAINT FK_TRN_TRN1_TRNEMP_EMP0 FOREIGN KEY (EMP0_ID) REFERENCES ORG_EMP0_EMPRESA(ID)ON UPDATE CASCADE ON DELETE NO ACTION
  
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON TRN_TRN1_TRNEMP TO  SYSDBA WITH GRANT OPTION;


CREATE TABLE TRN_UBC0_UBICACION
(
  ID AXN_IDENTIFICADOR NOT NULL,
  CREATEDBY AXN_USUARIO DEFAULT current_user,
  CREATEDAT AXN_FECHAHORA DEFAULT 'now',
  MODIFIEDBY AXN_USUARIO DEFAULT current_user,
  MODIFIEDAT AXN_FECHAHORA DEFAULT 'now',
  CODIGO AXN_CODIGO DEFAULT '' NOT NULL,
  DESCRIPCION AXN_DESCRIPCION DEFAULT '' NOT NULL,
  CONSTRAINT PK_TRN_UBC0_UBICACION PRIMARY KEY (ID)
);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON TRN_UBC0_UBICACION TO  SYSDBA WITH GRANT OPTION;
 
 
 
CREATE TABLE TRN_CRR0_CORRELATIVO
(
  ID AXN_IDENTIFICADOR NOT NULL,
  CREATEDBY AXN_USUARIO DEFAULT current_user,
  CREATEDAT AXN_FECHAHORA DEFAULT 'now',
  MODIFIEDBY AXN_USUARIO DEFAULT current_user,
  MODIFIEDAT AXN_FECHAHORA DEFAULT 'now',
  CODIGO AXN_CODIGO DEFAULT '' NOT NULL,
  DESCRIPCION AXN_DESCRIPCION DEFAULT '' NOT NULL,
  EMP0_ID AXN_IDENTIFICADOR NOT NULL,
  SERIE AXN_SERIE DEFAULT '' NOT NULL,
  INICIAL AXN_CORRELATIVO DEFAULT 0 NOT NULL,
  FINAL AXN_CORRELATIVO DEFAULT 0 NOT NULL,
  SIGUIENTE AXN_CORRELATIVO DEFAULT 0 NOT NULL,
  CONSTRAINT PK_TRN_CRR0_CORRELATIVO PRIMARY KEY (ID),
  CONSTRAINT FK_TRN_CRR0_CORRELATIVO_EMP0 FOREIGN KEY (EMP0_ID) REFERENCES ORG_EMP0_EMPRESA(ID)ON UPDATE CASCADE ON DELETE NO ACTION,
  CONSTRAINT CK_TRN_CRR0_CORRELATIVO_CORR CHECK  ((INICIAL <= SIGUIENTE) and (SIGUIENTE <= FINAL) )
);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON TRN_CRR0_CORRELATIVO TO  SYSDBA WITH GRANT OPTION;

/*
CREATE TABLE TRN_TRN1_TRNCRRUBC
(
  ID AXN_IDENTIFICADOR NOT NULL,
  TRN0_ID AXN_IDENTIFICADOR NOT NULL,
  CRR0_ID AXN_IDENTIFICADOR NOT NULL,
  UBC0_ID AXN_IDENTIFICADOR NOT NULL,
  CREATEDBY AXN_USUARIO DEFAULT current_user,
  CREATEDAT AXN_FECHAHORA DEFAULT 'now',
  MODIFIEDBY AXN_USUARIO DEFAULT current_user,
  MODIFIEDAT AXN_FECHAHORA DEFAULT 'now',
  ACTIVO 
  CONSTRAINT PK_TRN_TRN1_TRNCRRUBC PRIMARY KEY (ID),
  CONSTRAINT FK_TRN_TRN1_TRNCRRUBC_TRN0 FOREIGN KEY (TRN0_ID) REFERENCES TRN_TRN0_TRANSACCION(ID)ON UPDATE CASCADE ON DELETE NO ACTION,
  CONSTRAINT FK_TRN_TRN1_TRNCRRUBC_CRR0 FOREIGN KEY (CRR0_ID) REFERENCES TRN_CRR0_CORRELATIVO(ID)ON UPDATE CASCADE ON DELETE NO ACTION,
  CONSTRAINT FK_TRN_TRN1_TRNCRRUBC_UBC0 FOREIGN KEY (UBC0_ID) REFERENCES TRN_UBC0_UBICACION(ID)ON UPDATE CASCADE ON DELETE NO ACTION
);

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON TRN_TRN1_TRNEMP TO  SYSDBA WITH GRANT OPTION;
 */
